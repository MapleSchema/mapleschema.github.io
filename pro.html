<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MapleSchema Pro — Structured JSON & QuickBooks Exports</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="MapleSchema Pro generates structured transaction JSON and QuickBooks-ready imports from raw banking data."
  />

  <link rel="stylesheet" href="/css/style.css" />

  <style>
    .box {
      padding: 16px;
      border: 1px solid rgba(0,0,0,0.12);
      border-radius: 12px;
      background: rgba(255,255,255,0.65);
    }
    .btn {
      display: inline-flex;
      padding: 10px 14px;
      border-radius: 10px;
      font-weight: 800;
      text-decoration: none;
      background: #4a2d21;
      color: #fff;
    }
    .btn.qb { background:#2CA01C; }
    .muted { opacity:0.85; }
    .toggleWrap { display:flex; gap:8px; margin-top:12px; }
    .toggleBtn {
      padding: 8px 14px;
      border-radius: 999px;
      border: 2px solid rgba(0,0,0,0.25);
      background:#fff;
      font-weight:800;
      cursor:pointer;
    }
  </style>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyB960RtycsSigsJ77KwYlRWlPBb4e1DU1s",
      authDomain: "mapleschema-staging.firebaseapp.com",
      projectId: "mapleschema-staging",
      appId: "1:851079947514:web:809a28d25d24eef5f01543"
    };
  </script>
</head>

<body>
<div id="site">

  <!-- HEADER -->
  <header>
    <div class="container header-inner">
      <a href="/index.html" class="logo-link">
        <img
          src="/images/mapleschema-transparent-pro-icon.png"
          class="logo"
          alt="MapleSchema Pro"
        />
      </a>
      <nav>
        <a href="/privacy.html">Privacy</a>
        <a href="/contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main class="container" style="margin-top:20px;">

    <!-- HERO -->
    <section>
      <h1>MapleSchema Pro</h1>
      <p class="hero-lead">
        Upload bank data → Pick a format → Download instantly
      </p>
    </section>

    <!-- 1. FREE CSV CONVERTER -->
    <section style="margin-top:16px;">
      <article class="box" style="border-left:6px solid #2CA01C;">
        <h2>Free CSV Converter</h2>
        <p class="muted">
          Convert raw banking JSON into a clean, normalized CSV.
        </p>
        <a class="btn qb" href="/transform.html">
          Convert JSON → CSV
        </a>
      </article>
    </section>

    <!-- 2. SUBSCRIPTION -->
    <section style="margin-top:12px;">
      <article class="box">
        <h2>MapleSchema Pro</h2>
        <p class="muted">
          Structured transaction JSON and QuickBooks-ready exports.
        </p>
        <a class="btn" href="/subscribe.html">
          Subscribe to MapleSchema Pro
        </a>
      </article>
    </section>

    <!-- 3A. LOGGED OUT → EXAMPLES -->
    <section id="loggedOut" style="margin-top:12px;">
      <article class="box">
        <h2>Example outputs</h2>
        <p class="muted">
          What MapleSchema Pro produces from raw banking data.
        </p>

        <div class="toggleWrap">
          <button class="toggleBtn" onclick="showExample('json')">Structured JSON</button>
          <button class="toggleBtn" onclick="showExample('qb')" style="border-color:#2CA01C;">
            QuickBooks Import
          </button>
        </div>

        <!-- JSON -->
        <pre id="exJson" style="margin-top:12px;">{
  "schema_version": "transactions-v1.0",
  "transaction_fingerprint": "ms_fp_9f1c2c7b0d2a",
  "transaction_ref": "stmt_line_1842",
  "account_ref": "chq_001",
  "institution_code": "rbc_ca",
  "aggregator_code": "flinks",

  "effective_at": "2026-01-14T19:22:11Z",
  "posted_at": "2026-01-14T19:22:11Z",

  "amount": {
    "amount_minor": -724,
    "currency": "CAD"
  },
  "direction": "debit",

  "original_description": "TIM HORTONS #0059 / LONDON ON",
  "status": "posted",
  "mutability": "immutable",

  "normalization": {
    "mapping_method": "institution_mapper_v1",
    "input_timezone": "America/Toronto",
    "warnings": []
  },

  "insights": {
    "category": {
      "value": "coffee_fast_food",
      "confidence": 0.92,
      "version": "cat-v1",
      "signals": [
        "merchant_keyword:tim hortons",
        "pattern:#\\d{2,4}",
        "geo:ON"
      ]
    },
    "merchant": {
      "value": "Tim Hortons",
      "confidence": 0.89,
      "version": "merchant-v1",
      "signals": [
        "brand_db_match",
        "alias:tim hortons"
      ]
    },
    "description_analysis": {
      "en": "Franchise coffee shop purchase (likely in-store).",
      "fr": "Achat dans une franchise de café (probablement en magasin).",
      "confidence": 0.84,
      "version": "desc-v1",
      "signals": [
        "token:TIM",
        "token:HORTONS",
        "store_id:#0059",
        "city:LONDON",
        "region:ON"
      ]
    }
  }
}
</pre>

        <!-- QB -->
        <pre id="exQb" style="margin-top:12px; display:none;">Date,Payee,Description,Amount,Reference,AccountRef
2026-01-14,Tim Hortons,Coffee purchase,7.24,stmt_line_1842,Expenses</pre>
      </article>
    </section>

    <!-- 3B. LOGGED IN → UPLOAD WORKSPACE -->
    <section id="loggedIn" style="margin-top:12px; display:none;">
      <article class="box">
        <h2>Convert your data</h2>

        <!-- reuse transform.html UX -->
        <input type="file" />

        <div class="toggleWrap">
          <button class="toggleBtn">Structured JSON</button>
          <button class="toggleBtn" style="border-color:#2CA01C;">
            QuickBooks Import
          </button>
        </div>

        <a class="btn" style="margin-top:12px;">
          Generate Pro Output
        </a>
      </article>
    </section>

  </main>

  <footer>
    © MapleSchema 2026 • Pro
  </footer>
</div>

<script>
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  auth.onAuthStateChanged(user => {
    document.getElementById("loggedOut").style.display = user ? "none" : "block";
    document.getElementById("loggedIn").style.display = user ? "block" : "none";
  });

  function showExample(which) {
    document.getElementById("exJson").style.display = which === "json" ? "block" : "none";
    document.getElementById("exQb").style.display = which === "qb" ? "block" : "none";
  }
</script>

</body>
</html>
