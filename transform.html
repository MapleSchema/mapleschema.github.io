<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MapleSchema â€” Convert to CSV</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Sign in, upload your banking export, and download a spreadsheet-ready CSV instantly." />

  <meta property="og:title" content="MapleSchema â€” Convert to CSV">
  <meta property="og:description" content="Sign in, upload your banking export, and download a spreadsheet-ready CSV instantly.">
  <meta property="og:url" content="https://mapleschema.com/convert.html">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://mapleschema.com/images/mapleschema-social.png">
  <meta name="twitter:card" content="summary_large_image">

  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">

  <link rel="stylesheet" href="/css/style.css" />

  <style>
    /* ---- Safety resets (match index behavior) ---- */
    *, *::before, *::after { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      max-width: 100%;
      overflow-x: hidden;
    }

    /* ---- Page wrapper ---- */
    .ms-wrap { min-height: 100vh; display: flex; flex-direction: column; }
    .ms-main { flex: 1; }

    /* ---- Top strip (same as index.html) ---- */
    .ms-topstrip{
      border-bottom: 1px solid rgba(255,255,255,0.10);
      background: rgba(0,0,0,0.12);
    }
    .ms-topstrip .container{ padding-top: 10px; padding-bottom: 10px; }
    .ms-topstrip a{ text-decoration:none; color:inherit; display:block; }
    .ms-topstrip-row{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      line-height:1.2;
      text-align:center;
      flex-wrap:wrap;
      padding:0 4px;
    }
    .ms-topstrip-full{ display:inline; }
    .ms-topstrip-short{ display:none; }

    /* ---- Header nav (mobile sane) ---- */
    header .header-inner { gap: 12px; }
    .ms-nav{
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:flex-end;
      flex-wrap:wrap;
    }
    .ms-nav a{ padding: 8px 10px; border-radius: 10px; }

    /* ---- Hero tidy ---- */
    .ms-hero h1 { text-wrap: balance; }
    .ms-hero .hero-lead { text-wrap: balance; }

    /* ---- Steps panel (stacked always) ---- */
    .ms-panel{
      margin-top: 14px;
      padding: 18px;
      background: var(--panel-bg);
      border-radius: 16px;
      max-width: 100%;
      overflow: hidden;
    }

    .ms-steps{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
      max-width: 100%;
    }

    .ms-step{
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 14px;
      background: rgba(0,0,0,0.06);
      padding: 16px;
      min-width: 0;
      max-width: 100%;
    }

    .ms-step h2{
      margin: 0 0 6px 0;
      font-size: 1.05rem;
    }

    .ms-actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:12px;
      align-items:center;
    }

    /* ---- Upload area ---- */
    .ms-routing{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin: 10px 0 12px;
      max-width: 100%;
    }

    .ms-uploadbox{
      border: 1px dashed rgba(120,80,50,0.35);
      border-radius: 12px;
      padding: 16px;
      background: rgba(255,255,255,0.35);
      max-width: 100%;
    }

    .ms-uploadbox-inner{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
    }

    /* ---- Convert button: never floats, never overlaps ---- */
    .ms-convert-cta{
      display:flex;
      justify-content:flex-end;
    }

    /* ---- Limits strip: text left, logo right (always) ---- */
    .ms-limits{
      width: 100%;
      max-width: 1100px;
      box-sizing: border-box;
      padding: 18px;
      border-radius: 12px;
      border: 1px solid rgba(0,0,0,0.12);
      background: rgba(255,255,255,0.65);
      overflow: hidden;
    }

    .ms-limits-inner{
      display:grid;
      grid-template-columns: 1fr auto;
      gap: 16px;
      align-items: start;
    }

    .ms-limits-inner a{
      justify-self: end;
      align-self: start;
      display:inline-flex;
      align-items:center;
    }

    /* ---- Footer: center + wrap like index ---- */
    footer.ms-footer{
      text-align:center;
      padding: 18px 16px;
      line-height: 1.35;
      word-break: break-word;
    }
    footer.ms-footer .ms-footer-row{
      display:inline-flex;
      flex-wrap:wrap;
      justify-content:center;
      gap:6px;
      max-width:100%;
    }

    /* ---- Mobile breakpoints (match index vibe) ---- */
    @media (max-width: 720px){
      .container{ padding-left:16px; padding-right:16px; }

      .ms-topstrip-full{ display:none; }
      .ms-topstrip-short{ display:inline; }

      header .header-inner{ flex-wrap:wrap; justify-content:center; }
      .ms-nav{ width:100%; justify-content:center; }

      .ms-panel{ padding: 14px; }
      .ms-step{ padding: 14px; }

      .ms-routing{ grid-template-columns: 1fr; }

      .ms-convert-cta{ justify-content: stretch; }
      #btnConvert{ width:100%; justify-content:center; }

      .ms-limits-inner img{ height:64px; width:auto; }
    }

    @media (max-width: 420px){
      .ms-hero h1{ font-size: 1.6rem; line-height: 1.15; }
      .ms-hero .hero-lead{ font-size: 1.05rem; }
      .ms-nav a{ padding: 10px 12px; }
    }
  </style>
</head>

<body>
  <div id="site" class="ms-wrap">
    <header>
      <div class="container header-inner">
        <a href="/index.html" class="logo-link" aria-label="MapleSchema home">
          <div class="logo-wrapper">
            <img src="/images/mapleschema-transparent-icon.png" class="logo" alt="MapleSchema logo">
          </div>
        </a>

        <nav class="ms-nav" aria-label="Primary navigation">
          <a href="/privacy.html">Privacy</a>
          <a href="/contact.html">Contact</a>
        </nav>
      </div>
    </header>

    <main class="container ms-main">
      <section class="hero ms-hero" style="padding-bottom: 0;">
        <h1>Convert banking exports into a clean CSV.</h1>
        <p class="proof" style="margin-top: 10px;">
          200 transactions per request free â€¢ No credit card â€¢ Instant download
        </p>

        <!-- STEPS PANEL -->
        <div class="ms-panel">
          <div class="card primary" style="margin:0; padding:0; background:none; border-radius:0; border:none;">
            <!-- ERROR BOX -->
            <div id="errorBox" style="display:none; margin-bottom: 14px; padding: 12px 14px; border-radius: 12px; border: 1px solid rgba(255,80,80,0.35); background: rgba(255,0,0,0.08);">
              <div style="font-weight: 800; margin-bottom: 6px;">Error</div>
              <div id="errorText" class="small"></div>
              <div id="requestId" class="small" style="margin-top: 6px; opacity: 0.9;"></div>
            </div>

            <div class="ms-steps">

              <!-- 1) SIGN IN -->
                         <!-- Minimal Sign In Strip -->
            <div id="authInline" style="
              display:flex;
              align-items:center;
              justify-content:space-between;
              gap:12px;
              flex-wrap:wrap;
              padding:12px 14px;
              border:1px solid rgba(255,255,255,0.12);
              border-radius:12px;
              background:rgba(0,0,0,0.06);
              margin-bottom:14px;
            ">
            
              <div class="small" style="opacity:0.9;">
                <strong>Sign in required</strong> to upload and download.
              </div>
            
              <div style="display:flex; gap:8px; flex-wrap:wrap;">
                <button
                  id="btnSignIn"
                  class="button-primary"
                  type="button"
                  style="display:inline-flex; align-items:center; gap:8px;"
                >
                  <span aria-hidden="true">ðŸ”’</span>
                  Continue with Google
                </button>
            
                <button
                  id="btnSignOut"
                  class="button-primary"
                  type="button"
                  disabled
                  style="opacity:0.8; display:none;"
                >
                  Sign out
                </button>
              </div>
            </div>


              <!-- 2) UPLOAD -->
              <div class="ms-step">
                <h2>2) Upload your file</h2>
                <p class="small" style="margin-top:0;">
                  Supported: JSON exports â€¢ Max 10MB
                </p>

                <div id="routingWrap" class="ms-routing">
                  <div>
                    <label class="small" style="font-weight: 800;">Aggregator</label>
                    <select id="aggregatorCode" style="width: 100%; padding: 10px; border-radius: 10px;">
                      <option value="">(none)</option>
                    </select>
                  </div>
                  <div>
                    <label class="small" style="font-weight: 800;">Bank</label>
                    <select id="institutionCode" style="width: 100%; padding: 10px; border-radius: 10px;">
                      <option value="">(none)</option>
                    </select>
                  </div>
                </div>

                <div class="ms-uploadbox">
                  <div class="ms-uploadbox-inner">
                    <div>
                      <div style="font-weight:700;">Choose a JSON file</div>
                      <div class="small" style="opacity:0.92; margin-top:4px;">
                        <span id="fileName">No file selected</span>
                      </div>
                    </div>

                    <input id="fileInput" type="file" accept="application/json,.json" disabled />
                  </div>
                </div>
              </div>

              <!-- 3) CONVERT -->
              <div class="ms-step">
                <h2>3) Convert</h2>

                <div class="small" style="opacity:0.9; line-height:1.3;">
                  When youâ€™re ready, convert and download your CSV.
                </div>

               <div class="ms-convert-cta" style="margin-top:12px;">
                  <button
                    id="btnConvert"
                    type="button"
                    disabled
                    class="cta-button"
                    style="
                      width:100%;
                      display:inline-block;
                      padding: 14px 20px;
                      border-radius: 12px;
                      border: none;
                      cursor: pointer;
                      font-weight: 900;
                      font-size: 1rem;
                      letter-spacing: 0.04em;
                      text-transform: uppercase;
                      background:#2CA01C;
                      color:#ffffff;
                    "
                  >
                    Convert to CSV
                  </button>
                </div>

              </div>

            </div>
          </div>
        </div>

        <!-- Limits strip -->
        <section style="margin-top:16px;">
          <div style="display:flex; justify-content:center; width:100%;">
            <div class="ms-limits">
              <div class="ms-limits-inner">
                <div>
                  <div style="font-weight:800; font-size:1.1rem;">Limits</div>
                  <div style="margin-top:6px; font-size:0.9rem; opacity:0.85;">
                    Free accounts can convert up to <strong>200 transactions</strong>.<br />
                    Upgrade to Pro for higher limits.
                  </div>
                </div>

                <a href="/pro.html" aria-label="MapleSchema Pro">
                  <img
                    src="/images/mapleschema-transparent-pro-icon.png"
                    alt="MapleSchema Pro"
                    style="height:72px; width:auto;"
                  />
                </a>
              </div>
            </div>
          </div>
        </section>

      </section>
    </main>

    <footer class="ms-footer">
      <div class="ms-footer-row">
        <span>Â© MapleSchema 2026</span>
        <span aria-hidden="true">â€”</span>
        <span>Export to Excel &amp; Google Sheets</span>
        <span aria-hidden="true">â€¢</span>
        <span>Privacy-first</span>
        <span aria-hidden="true">â€¢</span>
        <a href="/enterprise">For fintech &amp; developers</a>
      </div>
    </footer>

  </div>

  <!-- Firebase (Compat SDK for simplest static hosting integration) -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

  <script>
    // Firebase Web App config (PROD)
    window.MAPLE_FIREBASE_CONFIG = {
      apiKey: "AIzaSyBgeIGdlYuQfBSGofSSjGoqq8s6KWnPrAE",
      authDomain: "mapleschema-prod.firebaseapp.com",
      projectId: "mapleschema-prod",
      storageBucket: "mapleschema-prod.firebasestorage.app",
      messagingSenderId: "379867061540",
      appId: "1:379867061540:web:cab36006b09975b78ca7b1"
    };
  </script>

  <!-- Converter logic -->
  <script src="/js/convert.js"></script>
</body>
</html>
